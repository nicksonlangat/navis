"use strict";(self["webpackChunklogistics"]=self["webpackChunklogistics"]||[]).push([[364],{12821:(e,t,s)=>{s.d(t,{Z:()=>C});var o=s(73396),a={class:"lg:hidden flex mt-3 justify-between"},n=(0,o._)("div",{class:"flex items-center"},[(0,o._)("h1",{class:"text-violet-600 text-4xl font-bold"},"Navis")],-1);function r(e,t,s,r,l,i){var d=(0,o.up)("Mobile");return(0,o.wg)(),(0,o.iD)("div",a,[n,(0,o.Wm)(d)])}var l=(0,o._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"},null,-1),i=[l],d={class:"fixed inset-0 overflow-y-auto"},u={class:"flex min-h-full text-center"},c={class:"mt-2 font-base"},f={class:"flex justify-between items-center"},p=(0,o._)("h1",{class:"text-violet-600 text-4xl font-bold"},"Navis",-1),m=(0,o._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),g=[m],x=(0,o._)("div",{class:"mt-5 flex flex-col gap-3 text-xl"},[(0,o._)("a",{href:""}),(0,o._)("a",{href:"/shipments"},"Shipments"),(0,o._)("a",{href:"/parcels"},"Parcels"),(0,o._)("a",{href:"/clients"},"Clients"),(0,o._)("a",{href:"/drivers"},"Drivers"),(0,o._)("a",{href:"/trucks"},"Trucks"),(0,o._)("a",{href:"/staff"},"Staff"),(0,o._)("a",{href:"/account"},"My account")],-1);function w(e,t,s,a,n,r){var l=(0,o.up)("DialogPanel"),m=(0,o.up)("TransitionChild"),w=(0,o.up)("Dialog"),h=(0,o.up)("TransitionRoot");return(0,o.wg)(),(0,o.iD)(o.HY,null,[n.isOpen?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("svg",{key:0,onClick:t[0]||(t[0]=function(){return r.openModal&&r.openModal.apply(r,arguments)}),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8"},i)),(0,o.Wm)(h,{appear:"",show:n.isOpen,as:"template"},{default:(0,o.w5)((function(){return[(0,o.Wm)(w,{as:"div",onClose:r.closeModal,class:"relative z-10"},{default:(0,o.w5)((function(){return[(0,o._)("div",d,[(0,o._)("div",u,[(0,o.Wm)(m,{as:"template",enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full"},{default:(0,o.w5)((function(){return[(0,o.Wm)(l,{class:"w-full max-w-lg transform overflow-hidden font-base bg-white text-gray-500 p-6 text-left align-middle shadow-xl transition-all"},{default:(0,o.w5)((function(){return[(0,o._)("div",c,[(0,o._)("div",f,[p,n.isOpen?((0,o.wg)(),(0,o.iD)("svg",{key:0,size:"32",onClick:t[1]||(t[1]=function(){return r.closeModal&&r.closeModal.apply(r,arguments)}),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8"},g)):(0,o.kq)("",!0)]),x])]})),_:1})]})),_:1})])])]})),_:1},8,["onClose"])]})),_:1},8,["show"])],64)}s(68309);var h=s(24680),_=s(99970);const b={components:{TransitionRoot:h.Q,TransitionChild:h.x,Dialog:_.Vq,DialogPanel:_.EM,DialogTitle:_.$N},data:function(){return{isOpen:!1,currentPage:""}},methods:{closeModal:function(){this.isOpen=!1},openModal:function(){this.isOpen=!0}},mounted:function(){this.currentPage=this.$route.name}};var v=s(40089);const y=(0,v.Z)(b,[["render",w]]),k=y,M={components:{Mobile:k}},U=(0,v.Z)(M,[["render",r]]),C=U},49434:(e,t,s)=>{s.d(t,{Z:()=>m});var o=s(73396),a=s(87139),n=(0,o._)("div",{class:"inline-flex items-center justify-center flex-shrink-0 text-white"},[(0,o._)("svg",{"aria-hidden":"true",class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[(0,o._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})]),(0,o._)("span",{class:"sr-only"},"Check icon")],-1),r={key:0,class:"ml-3 text-xs text-white font-base"},l={key:1,class:"ml-3 text-xs text-white font-base"},i={key:2,class:"ml-3 text-xs text-white font-base"};function d(e,t,s,d,u,c){var f=(0,o.up)("TransitionRoot");return(0,o.wg)(),(0,o.j4)(f,{show:u.isOpen,enter:"transform transition ease-in-out duration-1000",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-1000 transform","leave-from":"translate-x-0","leave-to":"translate-x-50",class:"flex absolute justify-center items-center w-80 p-1.5 right-8 -mr-2 top-5 mb-4 font-base bg-[#1ED760] border rounded-md shadow",role:"alert"},{default:(0,o.w5)((function(){return[n,"delete"===u.action?((0,o.wg)(),(0,o.iD)("div",r,(0,a.zw)(u.item)+" removed from the system",1)):(0,o.kq)("",!0),"add"===u.action?((0,o.wg)(),(0,o.iD)("div",l,(0,a.zw)(u.item)+" added to the system",1)):(0,o.kq)("",!0),"edit"===u.action?((0,o.wg)(),(0,o.iD)("div",i,(0,a.zw)(u.item)+" successfully updated",1)):(0,o.kq)("",!0)]})),_:1},8,["show"])}s(32564);var u=s(24680);const c={components:{TransitionRoot:u.Q,TransitionChild:u.x},data:function(){return{isOpen:!1,item:"",action:""}},methods:{toggleModal:function(){this.isOpen=!this.isOpen}},mounted:function(){var e=this;this.emitter.on("showNotification",(function(t){e.item=t.item,e.action=t.action,e.toggleModal(),setTimeout((function(){return e.isOpen=!1}),2e3)}))}};var f=s(40089);const p=(0,f.Z)(c,[["render",d]]),m=p},55364:(e,t,s)=>{s.r(t),s.d(t,{default:()=>be});var o=s(73396),a=s(35010),n=s(87139),r=s(26985),l={class:"flex"},i={class:"lg:w-10/12 w-full"},d={class:"pl-6 pr-6 font-base"},u={class:"flex font-base mt-5 justify-between"},c=(0,o._)("div",{class:"flex gap-4 items-center"},[(0,o._)("h1",{class:"text-2xl font-extrabold"},"Account")],-1),f={class:"flex gap-4 items-center"},p={class:"font-base bg-white pb-3 mt-2 rounded-md overflow-x-auto"},m={class:"grid lg:grid-cols-3 gap-4 gap-y-1"},g={class:"ml-5 mt-3 w-full flex flex-col gap-2"},x=(0,o._)("h3",{class:"uppercase text-gray-500"},"profile image",-1),w=["src"],h={key:1,src:r,class:"rounded-md h-64 w-64 object-cover",alt:""},_={for:"dropzone-file",class:"w-full rounded-lg cursor-pointer"},b=(0,o._)("p",{class:"text-violet-600"},"Click to upload profile picture",-1),v={class:"col-span-2 ml-5 mr-5 mt-5 flex flex-col gap-3"},y=(0,o._)("h3",{class:"uppercase text-gray-500"},"information",-1),k={class:"grid grid-cols-2 gap-4 gap-y-5"},M={class:"bg-[#f1f1fb]/40 rounded-md text-gray-900 pl-4 flex flex-col gap-2"},U=(0,o._)("p",{class:"text-gray-400 uppercase font-bold text-xs mt-1"},"Name",-1),C={class:"bg-[#f1f1fb]/40 rounded-md pb-2 text-gray-900 pl-4 flex flex-col gap-2"},D=(0,o._)("p",{class:"text-gray-400 uppercase font-bold text-xs mt-1"},"Email",-1),I={class:"bg-[#f1f1fb]/40 rounded-md text-gray-900 pl-4 flex flex-col gap-2"},P=(0,o._)("p",{class:"text-gray-400 uppercase font-bold text-xs mt-1"},"Phone number",-1),z={class:"bg-[#f1f1fb]/40 pb-2 rounded-md text-gray-900 pl-4 flex flex-col gap-2"},S=(0,o._)("p",{class:"text-gray-400 uppercase font-bold text-xs mt-1"},"Identity number",-1),T={class:"bg-[#f1f1fb]/40 rounded-md text-gray-900 pl-4 flex flex-col gap-2"},N=(0,o._)("p",{class:"text-gray-400 uppercase font-bold text-xs mt-1"},"Kra pin",-1),Z={class:"bg-[#f1f1fb]/40 rounded-md text-gray-900 pb-2 pl-4 flex flex-col gap-2"},O=(0,o._)("p",{class:"text-gray-400 uppercase font-bold text-xs mt-1"},"role",-1),j={class:"ml-5 mt-3 w-full flex flex-col gap-3"},A=(0,o._)("h3",{class:"uppercase text-gray-500"},"change password",-1),V={class:"text-center text-sm text-gray-500 flex flex-col gap-4 font-base bg-white rounded-xl"},W={class:"flex text-start flex-col gap-2"},q=(0,o._)("label",{for:"password",class:"text-gray-800 text-sm"},"Old Password",-1),R={class:"flex text-start flex-col gap-2"},L=(0,o._)("label",{for:"password",class:"text-gray-800 text-sm"},"New Password",-1),F={class:"flex text-start flex-col gap-2"},E=(0,o._)("label",{for:"password",class:"text-gray-800 text-sm"},"Confirm Password",-1),B={key:0,class:"text-red-500"},$={class:"mt-5"},K={class:"col-span-2 ml-5 mr-5 mt-3 flex flex-col gap-3"},Q=(0,o._)("h3",{class:"uppercase text-gray-500"},"update information",-1),H={class:"text-center text-sm text-gray-500 font-base grid grid-cols-2 gap-4 bg-white rounded-xl"},Y={class:"flex text-start flex-col gap-2"},G=(0,o._)("label",{for:"first_name",class:"text-gray-800 text-sm"},"First name",-1),J={class:"flex text-start flex-col gap-2"},X=(0,o._)("label",{for:"last_name",class:"text-gray-800 text-sm"},"Last name",-1),ee={class:"flex text-start flex-col gap-2"},te=(0,o._)("label",{for:"email",class:"text-gray-800 text-sm"},"Email",-1),se={class:"flex text-start flex-col gap-2"},oe=(0,o._)("label",{for:"phone_number",class:"text-gray-800 text-sm"},"Phone number",-1),ae={class:"flex text-start flex-col gap-2"},ne=(0,o._)("label",{for:"id_number",class:"text-gray-800 text-sm"},"ID number",-1),re={class:"flex text-start flex-col gap-2"},le=(0,o._)("label",{for:"kra_pin",class:"text-gray-800 text-sm"},"KRA pin",-1),ie=(0,o._)("div",null,null,-1),de={class:"mt-5 hidden lg:block"},ue={class:"mt-5 lg:hidden"};function ce(e,t,s,r,ce,fe){var pe,me,ge,xe,we,he,_e,be,ve,ye=(0,o.up)("Aside"),ke=(0,o.up)("Navbar"),Me=(0,o.up)("Notification");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(ye,{class:"hidden lg:block"}),(0,o._)("div",i,[(0,o._)("div",d,[(0,o.Wm)(ke),(0,o._)("div",u,[c,(0,o._)("div",f,[(0,o._)("div",null,[(0,o._)("button",{onClick:t[0]||(t[0]=function(){return fe.logoutUser&&fe.logoutUser.apply(fe,arguments)}),class:"bg-violet-600 text-white px-12 py-2 rounded-md"},"Logout")])])]),(0,o.Wm)(Me),(0,o._)("div",p,[(0,o._)("div",m,[(0,o._)("div",g,[x,ce.baseURL+(null===(pe=fe.user)||void 0===pe?void 0:pe.profile_image)?((0,o.wg)(),(0,o.iD)("img",{key:0,src:null===(me=fe.user)||void 0===me?void 0:me.profile_image,class:"rounded-md h-64 w-64 object-cover",alt:""},null,8,w)):((0,o.wg)(),(0,o.iD)("img",h)),(0,o._)("label",_,[b,(0,o._)("input",{name:"imageArray",onChange:t[1]||(t[1]=function(){return fe.onChange&&fe.onChange.apply(fe,arguments)}),id:"dropzone-file",type:"file",class:"hidden"},null,32)]),(0,o._)("button",{onClick:t[2]||(t[2]=(0,a.iM)((function(){return fe.updateProfileImage&&fe.updateProfileImage.apply(fe,arguments)}),["prevent"])),class:"bg-violet-600 text-white py-1 mr-24 text-sm rounded-md"},"Update profile image")]),(0,o._)("div",v,[y,(0,o._)("ul",k,[(0,o._)("li",M,[U,(0,o._)("p",null,(0,n.zw)(null===(ge=fe.user)||void 0===ge?void 0:ge.first_name)+" "+(0,n.zw)(null===(xe=fe.user)||void 0===xe?void 0:xe.last_name),1)]),(0,o._)("li",C,[D,(0,o._)("p",null,(0,n.zw)(null===(we=fe.user)||void 0===we?void 0:we.email),1)]),(0,o._)("li",I,[P,(0,o._)("p",null,(0,n.zw)(null===(he=fe.user)||void 0===he?void 0:he.phone_number),1)]),(0,o._)("li",z,[S,(0,o._)("p",null,(0,n.zw)(null===(_e=fe.user)||void 0===_e?void 0:_e.id_number),1)]),(0,o._)("li",T,[N,(0,o._)("p",null,(0,n.zw)(null===(be=fe.user)||void 0===be?void 0:be.kra_pin),1)]),(0,o._)("li",Z,[O,(0,o._)("p",null,(0,n.zw)(null===(ve=fe.user)||void 0===ve?void 0:ve.role),1)])])]),(0,o._)("div",j,[A,(0,o._)("form",V,[(0,o._)("div",W,[q,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return ce.old_password=e}),type:"password",class:"border focus:ring-0 focus:outline-none border-gray-200 bg-white py-2 rounded-md pl-4 shadow-sm"},null,512),[[a.nr,ce.old_password]])]),(0,o._)("div",R,[L,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return ce.new_password=e}),type:"password",class:"border focus:ring-0 focus:outline-none border-gray-200 bg-white py-2 rounded-md pl-4 shadow-sm"},null,512),[[a.nr,ce.new_password]])]),(0,o._)("div",F,[E,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return ce.confirm_password=e}),type:"password",class:"border focus:ring-0 focus:outline-none border-gray-200 bg-white py-2 rounded-md pl-4 shadow-sm"},null,512),[[a.nr,ce.confirm_password]]),ce.passwordMistMatch?((0,o.wg)(),(0,o.iD)("small",B,(0,n.zw)(ce.errorMessage),1)):(0,o.kq)("",!0)]),(0,o._)("div",$,[(0,o._)("button",{onClick:t[6]||(t[6]=(0,a.iM)((function(){return fe.changeUserPassword&&fe.changeUserPassword.apply(fe,arguments)}),["prevent"])),class:"bg-violet-600 w-full text-white py-2 px-12 rounded-md"},"Change password")])])]),(0,o._)("div",K,[Q,(0,o._)("form",H,[(0,o._)("div",Y,[G,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return ce.userInfo.first_name=e}),type:"text",class:"border focus:ring-0 focus:outline-none border-gray-200 bg-white py-2 rounded-md pl-4 shadow-sm"},null,512),[[a.nr,ce.userInfo.first_name]])]),(0,o._)("div",J,[X,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return ce.userInfo.last_name=e}),type:"text",class:"border focus:ring-0 focus:outline-none border-gray-200 bg-white py-2 rounded-md pl-4 shadow-sm"},null,512),[[a.nr,ce.userInfo.last_name]])]),(0,o._)("div",ee,[te,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return ce.userInfo.email=e}),type:"email",class:"border focus:ring-0 focus:outline-none border-gray-200 bg-white py-2 rounded-md pl-4 shadow-sm"},null,512),[[a.nr,ce.userInfo.email]])]),(0,o._)("div",se,[oe,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return ce.userInfo.phone_number=e}),type:"text",class:"border focus:ring-0 focus:outline-none border-gray-200 bg-white py-2 rounded-md pl-4 shadow-sm"},null,512),[[a.nr,ce.userInfo.phone_number]])]),(0,o._)("div",ae,[ne,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[11]||(t[11]=function(e){return ce.userInfo.id_number=e}),type:"text",class:"border focus:ring-0 focus:outline-none border-gray-200 bg-white py-2 rounded-md pl-4 shadow-sm"},null,512),[[a.nr,ce.userInfo.id_number]])]),(0,o._)("div",re,[le,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[12]||(t[12]=function(e){return ce.userInfo.kra_pin=e}),type:"text",class:"border focus:ring-0 focus:outline-none border-gray-200 bg-white py-2 rounded-md pl-4 shadow-sm"},null,512),[[a.nr,ce.userInfo.kra_pin]])]),ie,(0,o._)("div",de,[(0,o._)("button",{onClick:t[13]||(t[13]=(0,a.iM)((function(){return fe.updateStaffDetails&&fe.updateStaffDetails.apply(fe,arguments)}),["prevent"])),class:"bg-violet-600 w-full text-white py-2 px-12 rounded-md"},"Update information")]),(0,o._)("div",ue,[(0,o._)("button",{onClick:t[14]||(t[14]=(0,a.iM)((function(){return fe.updateStaffDetails&&fe.updateStaffDetails.apply(fe,arguments)}),["prevent"])),class:"bg-violet-600 w-full text-white py-2 px-12 rounded-md"},"Update")])])])])])])])])}var fe=s(95082),pe=(s(68309),s(32564),s(57658),s(64212)),me=s(20065),ge=s(49434),xe=s(12821);const we={name:"Account",components:{Aside:pe.Z,Notification:ge.Z,Navbar:xe.Z},data:function(){return{old_password:"",new_password:"",confirm_password:"",userInfo:{first_name:"",last_name:"",email:"",phone_number:"",id_number:"",kra_pin:""},item:"Staff",passwordMistMatch:!1,errorMessage:"",imageArray:null,baseURL:"https://navis-api.techwithnick.com/"}},computed:(0,fe.Z)((0,fe.Z)({},(0,me.Se)({storedUser:"getStoredUser"})),{},{user:function(){return this.storedUser}}),methods:(0,fe.Z)((0,fe.Z)({},(0,me.nv)({changePassword:"changePassword",changeProfileImage:"changeProfileImage",getUsersMe:"getUsersMe",updateStaff:"updateStaff"})),{},{onChange:function(e){this.imageArray=e.target.files[0]},updateProfileImage:function(e){var t=this;e.preventDefault();var s=new FormData;s.append("profile_image",this.imageArray,this.imageArray.name),this.changeProfileImage({payload:s,cb:function(){t.init(),t.emitter.emit("showNotification",{action:"edit",item:t.item})}})},changeUserPassword:function(){var e=this;this.new_password!=this.confirm_password?(this.passwordMistMatch=!0,this.errorMessage="Passwords do not match",setTimeout((function(){return e.passwordMistMatch=!1}),2e3)):this.changePassword({payload:{old_password:this.old_password,new_password:this.new_password},cb:function(){e.emitter.emit("showNotification",{action:"edit",item:e.item}),e.logoutUser()}})},updateStaffDetails:function(){var e=this;this.updateStaff({uuid:this.user.id,payload:this.userInfo,cb:function(){e.emitter.emit("showNotification",{action:"edit",item:e.item})}})},logoutUser:function(){localStorage.removeItem("navis"),localStorage.removeItem("hasPermission"),this.$router.push({name:"login"})},init:function(){var e=this;this.getUsersMe({cb:function(t){e.userInfo=t}})}}),mounted:function(){this.init()}};var he=s(40089);const _e=(0,he.Z)(we,[["render",ce]]),be=_e}}]);
//# sourceMappingURL=364.0eead66c.js.map