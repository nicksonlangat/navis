"use strict";(self["webpackChunklogistics"]=self["webpackChunklogistics"]||[]).push([[728],{36831:(e,t,a)=>{a.d(t,{Z:()=>p});var o=a(73396),n=a(87139);const l=a.p+"img/empty.7f6c7b39.svg";var s={class:"text-gray-400 font-base flex flex-col gap-3 mt-5 justify-center items-center"},r=(0,o._)("img",{class:"w-48",src:l,alt:""},null,-1),i={class:"font-base"};function f(e,t,a,l,f,d){return(0,o.wg)(),(0,o.iD)("div",s,[r,(0,o._)("p",i,"There are currently no "+(0,n.zw)(a.data)+" to display",1)])}const d={props:{data:String}};var u=a(40089);const c=(0,u.Z)(d,[["render",f]]),p=c},62861:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Rt});var o=a(73396),n=a(35010),l=a(87139),s={class:"flex"},r={class:"lg:w-10/12 w-full"},i={class:"pl-6 pr-6 font-base"},f={class:"hidden lg:flex font-base mt-5 justify-between"},d={class:"flex gap-4 items-center"},u=(0,o._)("h1",{class:"text-2xl font-extrabold"},"Staff",-1),c={class:"relative ml-5"},p=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 text-gray-400 absolute top-2 left-2 h-5"},[(0,o._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1),m={class:"hidden lg:flex gap-4 items-center"},g={class:"lg:hidden mt-5 flex flex-col gap-4"},h=(0,o._)("h1",{class:"text-2xl font-extrabold"},"Staff",-1),x={class:"relative"},w=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 text-gray-400 absolute top-2.5 left-2 h-5"},[(0,o._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1),_={class:"lg:hidden bg-white pb-2 font-base mt-5 rounded-md"},y={class:"border-b first:py-2 pb-2 last:border-0 last:pb-0"},b={class:"flex justify-between ml-3 mr-5 text-xs mt-5"},v={class:"uppercase text-gray-500"},k=(0,o._)("br",null,null,-1),S={class:"text-gray-900"},C={class:"uppercase text-gray-500"},M=(0,o._)("br",null,null,-1),D={class:"text-gray-900"},P={class:"flex justify-between ml-3 mr-5 text-xs mt-5"},E={class:"uppercase text-gray-500"},T=(0,o._)("br",null,null,-1),A={class:"text-gray-900"},N={class:"uppercase text-gray-500"},j=(0,o._)("br",null,null,-1),z={class:"text-gray-900"},U={key:0,class:"mt-2 text-sm font-base inline-flex -space-x-px items-center divide-x"},W={class:"hidden lg:block font-base mt-5 rounded-md overflow-x-auto"},F={key:0,class:"w-full text-sm text-left text-gray-500"},Z=(0,o._)("thead",{class:"text-xs text-gray-950 uppercase bg-white border-b font-base"},[(0,o._)("tr",null,[(0,o._)("th",{scope:"col",class:"px-6 py-3"}," full name "),(0,o._)("th",{scope:"col",class:"px-6 py-3"}," email "),(0,o._)("th",{scope:"col",class:"px-6 py-3"}," phone number "),(0,o._)("th",{scope:"col",class:"px-6 py-3"}," id "),(0,o._)("th",{scope:"col",class:"px-6 py-3"}," role "),(0,o._)("th",{scope:"col",class:"px-6 py-3"}," kra pin "),(0,o._)("th",{scope:"col",class:"px-6 py-3"}," action ")])],-1),V={class:""},L={class:"bg-white text-xs font-base border-b"},R={scope:"row",class:"px-6 py-4 font-medium text-gray-950 whitespace-nowrap"},O={class:"px-6 py-4"},B={class:"px-6 py-4"},I={class:"px-6 py-4"},G={class:"px-6 py-4"},Y={class:"px-6 py-4"},H={class:"px-6 py-4 flex gap-4"},K=["onClick"],q=(0,o._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"},null,-1),Q=[q],$=["onClick"],J=(0,o._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1),X=[J],ee={key:1,class:"mt-2 text-sm font-base inline-flex -space-x-px items-center divide-x"},te={key:2};function ae(e,t,a,q,J,ae){var oe=(0,o.up)("Aside"),ne=(0,o.up)("NewStaffDrawer"),le=(0,o.up)("EditStaffModal"),se=(0,o.up)("DeleteModal"),re=(0,o.up)("Notification"),ie=(0,o.up)("Navbar"),fe=(0,o.up)("EmptyIllustration");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o.Wm)(oe,{class:"hidden lg:block"}),(0,o._)("div",r,[(0,o._)("div",i,[(0,o._)("div",f,[(0,o._)("div",d,[u,(0,o._)("div",c,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return J.text=e}),class:"pl-8 w-72 bg-white py-2 rounded-md focus:outline-none font-base text-sm placeholder:text-xs",type:"text",placeholder:"Search staff by identity number"},null,512),[[n.nr,J.text]]),p])]),(0,o._)("div",m,[(0,o.Wm)(ne),(0,o.Wm)(le),(0,o.Wm)(se),(0,o.Wm)(re)])]),(0,o.Wm)(ie),(0,o._)("div",g,[h,(0,o._)("div",x,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return J.text=e}),class:"pl-8 w-[365px] bg-white py-2.5 rounded-md focus:outline-none font-base text-sm placeholder:text-xs",type:"text",placeholder:"Search staff by identity number"},null,512),[[n.nr,J.text]]),w])]),(0,o._)("div",_,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(ae.staff,(function(e){return(0,o.wg)(),(0,o.iD)("div",y,[(0,o._)("div",b,[(0,o._)("h3",v,[(0,o.Uk)("name "),k,(0,o._)("span",S,(0,l.zw)(e.first_name)+" "+(0,l.zw)(e.last_name),1)]),(0,o._)("h3",C,[(0,o.Uk)("phone "),M,(0,o._)("span",D,(0,l.zw)(e.phone_number),1)])]),(0,o._)("div",P,[(0,o._)("h3",E,[(0,o.Uk)("email "),T,(0,o._)("span",A,(0,l.zw)(e.email),1)]),(0,o._)("h3",N,[(0,o.Uk)("role "),j,(0,o._)("span",z,(0,l.zw)(e.role),1)])])])})),256)),ae.staff.length?((0,o.wg)(),(0,o.iD)("ul",U,[(0,o._)("li",{onClick:t[2]||(t[2]=function(){return ae.goToLastPage&&ae.goToLastPage.apply(ae,arguments)}),class:(0,l.C_)([""===J.previousPage||null==J.previousPage?"text-gray-300":"text-gray-600","flex cursor-pointer items-center justify-center px-4 h-5 ml-0 leading-tight bg-white rounded-l-md"])}," Previous ",2),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(J.totalPages,(function(e){return(0,o.wg)(),(0,o.iD)("li",{class:(0,l.C_)([J.currentPage==e?"text-violet-600":"text-gray-600","flex items-center justify-center px-4 h-5 leading-tight bg-white"])},(0,l.zw)(e),3)})),256)),(0,o._)("li",{onClick:t[3]||(t[3]=function(){return ae.goToNextPage&&ae.goToNextPage.apply(ae,arguments)}),class:(0,l.C_)([""===J.nextPage||null==J.nextPage?"text-gray-300":"text-gray-600","flex cursor-pointer items-center justify-center px-4 h-5 ml-0 leading-tight bg-white rounded-r-md"])}," Next ",2)])):(0,o.kq)("",!0)]),(0,o._)("div",W,[ae.staff.length?((0,o.wg)(),(0,o.iD)("table",F,[Z,(0,o._)("tbody",V,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(ae.staff,(function(e){return(0,o.wg)(),(0,o.iD)("tr",L,[(0,o._)("th",R,(0,l.zw)(e.first_name)+" "+(0,l.zw)(e.last_name),1),(0,o._)("td",O,(0,l.zw)(e.email),1),(0,o._)("td",B,(0,l.zw)(e.phone_number),1),(0,o._)("td",I,(0,l.zw)(e.id_number),1),(0,o._)("td",G,(0,l.zw)(e.role),1),(0,o._)("td",Y,(0,l.zw)(e.kra_pin),1),(0,o._)("td",H,[((0,o.wg)(),(0,o.iD)("svg",{onClick:function(t){return ae.editStaff(e)},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 text-gray-500 cursor-pointer hover:text-violet-500 transition-all duration-300 h-4"},Q,8,K)),((0,o.wg)(),(0,o.iD)("svg",{onClick:function(t){return ae.removeStaf(e)},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 text-gray-500 cursor-pointer hover:text-red-500 transition-all duration-300 h-4"},X,8,$))])])})),256))])])):(0,o.kq)("",!0),ae.staff.length?((0,o.wg)(),(0,o.iD)("ul",ee,[(0,o._)("li",{onClick:t[4]||(t[4]=function(){return ae.goToLastPage&&ae.goToLastPage.apply(ae,arguments)}),class:(0,l.C_)([""===J.previousPage||null==J.previousPage?"text-gray-300":"text-gray-600","flex cursor-pointer items-center justify-center px-4 h-10 ml-0 leading-tight bg-white rounded-l-md"])}," Previous ",2),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(J.totalPages,(function(e){return(0,o.wg)(),(0,o.iD)("li",{class:(0,l.C_)([J.currentPage==e?"text-violet-600":"text-gray-600","flex items-center justify-center px-4 h-10 leading-tight bg-white"])},(0,l.zw)(e),3)})),256)),(0,o._)("li",{onClick:t[5]||(t[5]=function(){return ae.goToNextPage&&ae.goToNextPage.apply(ae,arguments)}),class:(0,l.C_)([""===J.nextPage||null==J.nextPage?"text-gray-300":"text-gray-600","flex cursor-pointer items-center justify-center px-4 h-10 ml-0 leading-tight bg-white rounded-r-md"])}," Next ",2)])):((0,o.wg)(),(0,o.iD)("div",te,[(0,o.Wm)(fe,{data:"staff"})]))])])])])}var oe=a(95082),ne=(a(57327),a(41539),a(26699),a(32023),a(64212)),le={class:""},se=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[(0,o._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),re=(0,o._)("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ie={class:"fixed inset-0 overflow-y-auto"},fe={class:"flex font-base items-center justify-center p-4 text-center"},de={class:"ml-2 flex justify-between mr-2"},ue=(0,o._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),ce=[ue],pe=(0,o._)("p",{class:"font-base text-gray-500 ml-2 mt-3"},"Enter staff's details below",-1),me={class:"mt-8 ml-3"},ge={class:"flex text-sm font-base flex-col gap-6"},he={class:"flex flex-col gap-1"},xe=(0,o._)("label",{for:"first_name"},"First name",-1),we={class:"flex flex-col gap-1"},_e=(0,o._)("label",{for:"last_name"},"Last name",-1),ye={class:"flex flex-col gap-1"},be=(0,o._)("label",{for:"email"},"Email",-1),ve={class:"flex flex-col gap-1"},ke=(0,o._)("label",{for:"phone_number"},"Phone number",-1),Se={class:"flex flex-col gap-1"},Ce=(0,o._)("label",{for:"id_number"},"Id number",-1),Me={class:"flex flex-col gap-1"},De=(0,o._)("label",{for:"kra_pin"},"KRA pin",-1),Pe={class:"flex flex-col gap-1"},Ee=(0,o._)("label",{for:"status"},"Role",-1),Te=(0,o._)("option",{value:"STAFF"},"Staff",-1),Ae=(0,o._)("option",{value:"MANAGER"},"Manager",-1),Ne=(0,o._)("option",{value:"ADMIN"},"Admin",-1),je=[Te,Ae,Ne];function ze(e,t,a,l,s,r){var i=(0,o.up)("TransitionChild"),f=(0,o.up)("NewStaffModal"),d=(0,o.up)("DialogTitle"),u=(0,o.up)("DialogPanel"),c=(0,o.up)("Dialog"),p=(0,o.up)("TransitionRoot");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",le,[(0,o._)("button",{onClick:t[0]||(t[0]=function(){return r.openModal&&r.openModal.apply(r,arguments)}),class:"bg-violet-600 flex gap-1 text-sm text-white py-2 px-12 rounded-md"},[se,(0,o.Uk)(" New staff ")])]),(0,o.Wm)(p,{appear:"",show:s.isOpen,as:"template"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{as:"div",onClose:r.closeModal,class:"relative z-10"},{default:(0,o.w5)((function(){return[(0,o.Wm)(i,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,o.w5)((function(){return[re]})),_:1}),(0,o.Wm)(f),(0,o._)("div",ie,[(0,o._)("div",fe,[(0,o.Wm)(i,{as:"template",enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full"},{default:(0,o.w5)((function(){return[(0,o.Wm)(u,{class:"fixed w-[500px] top-0 h-full right-0 z-40 transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:(0,o.w5)((function(){return[(0,o._)("div",de,[(0,o.Wm)(d,{onClick:e.load,as:"h3",class:"font-medium leading-6 font-base text-xl"},{default:(0,o.w5)((function(){return[(0,o.Uk)(" New staff ")]})),_:1},8,["onClick"]),((0,o.wg)(),(0,o.iD)("svg",{onClick:t[1]||(t[1]=function(){return r.closeModal&&r.closeModal.apply(r,arguments)}),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 font-base cursor-pointer h-6"},ce))]),pe,(0,o._)("div",me,[(0,o._)("form",ge,[(0,o._)("div",he,[xe,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.staff.first_name=e}),type:"text",class:"bg-white border border-gray-200 focus:outline-none focus:right-0 py-2 rounded-md pl-3 placeholder:text-gray-400 shadow-sm font-base",placeholder:"E.g Daniel "},null,512),[[n.nr,s.staff.first_name]])]),(0,o._)("div",we,[_e,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.staff.last_name=e}),type:"text",class:"bg-white border border-gray-200 focus:outline-none focus:right-0 py-2 rounded-md pl-3 placeholder:text-gray-400 shadow-sm font-base",placeholder:"E.g Smith "},null,512),[[n.nr,s.staff.last_name]])]),(0,o._)("div",ye,[be,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return s.staff.email=e}),type:"text",class:"bg-white border border-gray-200 focus:outline-none focus:right-0 py-2 rounded-md pl-3 placeholder:text-gray-400 shadow-sm font-base",placeholder:"E.g danielsmith@acme.com "},null,512),[[n.nr,s.staff.email]])]),(0,o._)("div",ve,[ke,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return s.staff.phone_number=e}),type:"text",class:"bg-white border border-gray-200 focus:outline-none focus:right-0 py-2 rounded-md pl-3 placeholder:text-gray-400 shadow-sm font-base",placeholder:"E.g 0712345675 "},null,512),[[n.nr,s.staff.phone_number]])]),(0,o._)("div",Se,[Ce,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return s.staff.id_number=e}),type:"text",class:"bg-white border border-gray-200 focus:outline-none focus:right-0 py-2 rounded-md pl-3 placeholder:text-gray-400 shadow-sm font-base",placeholder:"E.g 22776544 "},null,512),[[n.nr,s.staff.id_number]])]),(0,o._)("div",Me,[De,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return s.staff.kra_pin=e}),type:"text",class:"bg-white border border-gray-200 focus:outline-none focus:right-0 py-2 rounded-md pl-3 placeholder:text-gray-400 shadow-sm font-base",placeholder:"E.g A02567975U "},null,512),[[n.nr,s.staff.kra_pin]])]),(0,o._)("div",Pe,[Ee,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return s.staff.role=e}),type:"text",class:"bg-white border border-gray-200 focus:outline-none focus:right-0 py-2 rounded-md pl-3 placeholder:text-gray-400 shadow-sm font-base",placeholder:"Brown"},je,512),[[n.bM,s.staff.role]])]),(0,o._)("div",null,[(0,o._)("button",{onClick:t[9]||(t[9]=(0,n.iM)((function(){return r.submitNewStaff&&r.submitNewStaff.apply(r,arguments)}),["prevent"])),class:"bg-violet-600 w-full text-center font-base text-white py-2 px-4 rounded-md"}," Submit ")])])])]})),_:1})]})),_:1})])])]})),_:1},8,["onClose"])]})),_:1},8,["show"])],64)}var Ue=a(24680),We=a(99970),Fe=a(20065),Ze=(0,o._)("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Ve={class:"fixed inset-0 overflow-y-auto"},Le={class:"flex min-h-full items-center justify-center p-4 text-center"},Re={class:"flex justify-end"},Oe=(0,o._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),Be=[Oe],Ie={class:"mt-2 font-base flex flex-col gap-5 justify-center items-center"},Ge=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-16 h-16 text-violet-600"},[(0,o._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Ye=(0,o._)("h3",{class:"text-xl font-bold"},"Staff account created:",-1),He={class:"flex flex-col gap-1"},Ke={class:"text-gray-500"},qe={class:"text-gray-500"},Qe={class:"flex text-sm gap-5"};function $e(e,t,a,n,s,r){var i=(0,o.up)("TransitionChild"),f=(0,o.up)("DialogPanel"),d=(0,o.up)("Dialog"),u=(0,o.up)("TransitionRoot");return(0,o.wg)(),(0,o.j4)(u,{appear:"",show:s.isOpen,as:"template"},{default:(0,o.w5)((function(){return[(0,o.Wm)(d,{as:"div",onClose:r.toggleModal,class:"relative z-10"},{default:(0,o.w5)((function(){return[(0,o.Wm)(i,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,o.w5)((function(){return[Ze]})),_:1}),(0,o._)("div",Ve,[(0,o._)("div",Le,[(0,o.Wm)(i,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:(0,o.w5)((function(){return[(0,o.Wm)(f,{class:"w-full max-w-lg transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:(0,o.w5)((function(){return[(0,o._)("div",Re,[((0,o.wg)(),(0,o.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",onClick:t[0]||(t[0]=function(){return r.toggleModal&&r.toggleModal.apply(r,arguments)}),class:"w-8 hover:bg-[#F1F1FB] transition-all duration-300 rounded-full h-8 text-gray-500 cursor-pointer"},Be))]),(0,o._)("div",Ie,[Ge,Ye,(0,o._)("div",He,[(0,o._)("p",Ke," Email: "+(0,l.zw)(s.email),1),(0,o._)("p",qe," Password: "+(0,l.zw)(s.password),1)]),(0,o._)("div",Qe,[(0,o._)("button",{onClick:t[1]||(t[1]=function(){return r.toggleModal&&r.toggleModal.apply(r,arguments)}),class:"bg-[#F1F1FB] focus:outline-none focus:ring-0 px-12 py-1.5 text-gray-700 rounded-md"},"Cancel"),(0,o._)("button",{onClick:t[2]||(t[2]=function(){return r.copyPassword&&r.copyPassword.apply(r,arguments)}),class:"bg-violet-600 text-white px-6 py-1.5 focus:outline-none focus:ring-0 rounded-md"},"Copy password")])])]})),_:1})]})),_:1})])])]})),_:1},8,["onClose"])]})),_:1},8,["show"])}const Je={components:{TransitionRoot:Ue.Q,TransitionChild:Ue.x,Dialog:We.Vq,DialogPanel:We.EM,DialogTitle:We.$N},data:function(){return{isOpen:!1,email:"",password:""}},methods:{toggleModal:function(){this.isOpen=!this.isOpen},copyPassword:function(){this.copyStaffPassword(),this.emitter.emit("reloadStaff","add"),this.emitter.emit("closeStaffDrawer"),this.toggleModal()},unsecuredCopyToClipboard:function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(a){console.error("Unable to copy to clipboard",a)}document.body.removeChild(t)},copyStaffPassword:function(){window.isSecureContext&&navigator.clipboard?navigator.clipboard.writeText(this.password):this.unsecuredCopyToClipboard(this.password)}},mounted:function(){var e=this;this.emitter.on("showNewStaffModal",(function(t){e.email=t.email,e.password=t.password,e.toggleModal()}))}};var Xe=a(40089);const et=(0,Xe.Z)(Je,[["render",$e]]),tt=et,at={components:{TransitionRoot:Ue.Q,TransitionChild:Ue.x,Dialog:We.Vq,DialogPanel:We.EM,DialogTitle:We.$N,NewStaffModal:tt},data:function(){return{isOpen:!1,staff:{first_name:"",last_name:"",email:"",phone_number:"",id_number:"",role:"STAFF",kra_pin:"",password:""}}},methods:(0,oe.Z)((0,oe.Z)({},(0,Fe.nv)({createStaff:"createStaff"})),{},{resetForm:function(){this.staff.first_name="",this.staff.last_name="",this.staff.email="",this.staff.phone_number="",this.staff.id_number="",this.staff.role="STAFF",this.staff.kra_pin=""},submitNewStaff:function(){var e=this;this.createStaff({payload:this.staff,cb:function(t){t["password"]=e.staff.password,e.emitter.emit("showNewStaffModal",t),e.resetForm()}})},closeModal:function(){this.isOpen=!1},openModal:function(){this.isOpen=!0},randomPassword:function(e,t){for(var a="",o=e;o>0;--o)a+=t[Math.floor(Math.random()*t.length)];return a}}),mounted:function(){var e=this;this.emitter.on("closeStaffDrawer",(function(){e.closeModal()})),this.staff.password=this.randomPassword(8,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ")}},ot=(0,Xe.Z)(at,[["render",ze]]),nt=ot;var lt=(0,o._)("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),st={class:"fixed inset-0 overflow-y-auto"},rt={class:"flex min-h-full items-center justify-center p-4 text-center"},it={class:"flex justify-between"},ft={class:"mt-2"},dt={class:"flex text-sm font-base flex-col gap-3"},ut={class:"flex flex-col gap-1"},ct=(0,o._)("label",{for:"first_name"},"First name",-1),pt={class:"flex flex-col gap-1"},mt=(0,o._)("label",{for:"last_name"},"Last name",-1),gt={class:"flex flex-col gap-1"},ht=(0,o._)("label",{for:"email"},"Email",-1),xt={class:"flex flex-col gap-1"},wt=(0,o._)("label",{for:"phone_number"},"Phone number",-1),_t={class:"flex flex-col gap-1"},yt=(0,o._)("label",{for:"id_number"},"Id number",-1),bt={class:"flex flex-col gap-1"},vt=(0,o._)("label",{for:"kra_pin"},"KRA pin",-1),kt={class:"flex flex-col gap-1"},St=(0,o._)("label",{for:"status"},"Role",-1),Ct=(0,o._)("option",{value:"STAFF"},"Staff",-1),Mt=(0,o._)("option",{value:"MANAGER"},"Manager",-1),Dt=(0,o._)("option",{value:"ADMIN"},"Admin",-1),Pt=[Ct,Mt,Dt];function Et(e,t,a,s,r,i){var f=(0,o.up)("TransitionChild"),d=(0,o.up)("DialogTitle"),u=(0,o.up)("DialogPanel"),c=(0,o.up)("Dialog"),p=(0,o.up)("TransitionRoot");return(0,o.wg)(),(0,o.j4)(p,{appear:"",show:r.isOpen,as:"template"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{as:"div",onClose:i.toggleModal,class:"relative z-10"},{default:(0,o.w5)((function(){return[(0,o.Wm)(f,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,o.w5)((function(){return[lt]})),_:1}),(0,o._)("div",st,[(0,o._)("div",rt,[(0,o.Wm)(f,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:(0,o.w5)((function(){return[(0,o.Wm)(u,{class:"w-full max-w-xl transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:(0,o.w5)((function(){return[(0,o._)("div",it,[(0,o.Wm)(d,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:(0,o.w5)((function(){var e,t;return[(0,o.Uk)(" Staff "+(0,l.zw)(null===(e=r.staff)||void 0===e?void 0:e.first_name)+" "+(0,l.zw)(null===(t=r.staff)||void 0===t?void 0:t.last_name),1)]})),_:1})]),(0,o._)("div",ft,[(0,o._)("form",dt,[(0,o._)("div",ut,[ct,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.staff.first_name=e}),type:"text",class:"bg-white border border-gray-200 focus:outline-none focus:right-0 py-2 shadow-sm rounded-md pl-3 placeholder:text-gray-500 font-base",placeholder:"E.g Daniel "},null,512),[[n.nr,r.staff.first_name]])]),(0,o._)("div",pt,[mt,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.staff.last_name=e}),type:"text",class:"bg-white border border-gray-200 focus:outline-none focus:right-0 py-2 shadow-sm rounded-md pl-3 placeholder:text-gray-500 font-base",placeholder:"E.g Smith "},null,512),[[n.nr,r.staff.last_name]])]),(0,o._)("div",gt,[ht,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.staff.email=e}),type:"text",class:"bg-white border border-gray-200 focus:outline-none focus:right-0 py-2 shadow-sm rounded-md pl-3 placeholder:text-gray-500 font-base",placeholder:"E.g Daniel "},null,512),[[n.nr,r.staff.email]])]),(0,o._)("div",xt,[wt,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.staff.phone_number=e}),type:"text",class:"bg-white border border-gray-200 focus:outline-none focus:right-0 py-2 shadow-sm rounded-md pl-3 placeholder:text-gray-500 font-base",placeholder:"E.g 0712345675 "},null,512),[[n.nr,r.staff.phone_number]])]),(0,o._)("div",_t,[yt,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.staff.id_number=e}),type:"text",class:"bg-white border border-gray-200 focus:outline-none focus:right-0 py-2 shadow-sm rounded-md pl-3 placeholder:text-gray-500 font-base",placeholder:"E.g 22776544 "},null,512),[[n.nr,r.staff.id_number]])]),(0,o._)("div",bt,[vt,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.staff.kra_pin=e}),type:"text",class:"bg-white border border-gray-200 focus:outline-none focus:right-0 py-2 shadow-sm rounded-md pl-3 placeholder:text-gray-500 font-base",placeholder:"E.g A02567975U "},null,512),[[n.nr,r.staff.kra_pin]])]),(0,o._)("div",kt,[St,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.staff.role=e}),type:"text",class:"bg-white border border-gray-200 focus:outline-none focus:right-0 py-2 shadow-sm rounded-md pl-3 placeholder:text-gray-500 font-base",placeholder:"Brown"},Pt,512),[[n.bM,r.staff.role]])]),(0,o._)("div",null,[(0,o._)("button",{onClick:t[7]||(t[7]=(0,n.iM)((function(){return i.updateStaffDetails&&i.updateStaffDetails.apply(i,arguments)}),["prevent"])),class:"bg-violet-600 w-full text-center font-base text-white py-2 px-4 rounded-md"}," Update staff ")])])])]})),_:1})]})),_:1})])])]})),_:1},8,["onClose"])]})),_:1},8,["show"])}const Tt={components:{TransitionRoot:Ue.Q,TransitionChild:Ue.x,Dialog:We.Vq,DialogPanel:We.EM,DialogTitle:We.$N},data:function(){return{isOpen:!1,staff:{first_name:"",last_name:"",email:"",phone_number:"",id_number:"",role:"STAFF",kra_pin:"",password:""}}},methods:(0,oe.Z)((0,oe.Z)({},(0,Fe.nv)({updateStaff:"updateStaff"})),{},{toggleModal:function(){this.isOpen=!this.isOpen},updateStaffDetails:function(){var e=this;this.updateStaff({uuid:this.staff.id,payload:this.staff,cb:function(){e.toggleModal(),e.emitter.emit("reloadStaff","edit")}})}}),mounted:function(){var e=this;this.emitter.on("showStaffModal",(function(t){e.staff=t,e.toggleModal()}))}},At=(0,Xe.Z)(Tt,[["render",Et]]),Nt=At;var jt=a(36831),zt=a(96675),Ut=a(36797),Wt=a.n(Ut),Ft=a(49434),Zt=a(12821);const Vt={name:"Staff",components:{Aside:ne.Z,NewStaffDrawer:nt,EditStaffModal:Nt,EmptyIllustration:jt.Z,DeleteModal:zt.Z,Notification:Ft.Z,Navbar:Zt.Z},data:function(){return{text:"",item:"Staff",totalPages:0,previousPage:"",nextPage:"",currentPage:""}},computed:(0,oe.Z)((0,oe.Z)({},(0,Fe.Se)({storedStaff:"getStoredStaff"})),{},{staff:function(){var e=this;return this.storedStaff.filter((function(t){return t.id_number.toLowerCase().includes(e.text.toLowerCase())}))}}),methods:(0,oe.Z)((0,oe.Z)((0,oe.Z)({},(0,Fe.nv)({getAllStaff:"getAllStaff",deleteStaff:"deleteStaff"})),(0,Fe.OI)({INCREASE_PAGE:"INCREASE_PAGE",DECREASE_PAGE:"DECREASE_PAGE"})),{},{goToNextPage:function(){null!=this.nextPage&&(this.INCREASE_PAGE(),this.init())},goToLastPage:function(){null!=this.previousPage&&(this.DECREASE_PAGE(),this.init())},init:function(){var e=this;this.getAllStaff({cb:function(t){e.previousPage=t.previous,e.nextPage=t.next,e.totalPages=t.total_pages,e.currentPage=t.current_page_number}})},formatDate:function(e){return Wt()(e).format("MMM Do YY")},editStaff:function(e){this.emitter.emit("showStaffModal",e)},removeStaf:function(e){this.emitter.emit("showDeleteModal",{type:"Staff",value:e.email,id:e.id})},deleteConfirmedStaff:function(e){var t=this;this.deleteStaff({uuid:e,cb:function(){t.init()}})}}),mounted:function(){var e=this;this.init(),this.emitter.on("reloadStaff",(function(t){e.init(),"edit"===t?e.emitter.emit("showNotification",{action:"edit",item:e.item}):"add"===t&&e.emitter.emit("showNotification",{action:"add",item:e.item})})),this.emitter.on("deleteStaff",(function(t){e.deleteConfirmedStaff(t),e.emitter.emit("showNotification",{action:"delete",item:e.item})}))}},Lt=(0,Xe.Z)(Vt,[["render",ae]]),Rt=Lt}}]);
//# sourceMappingURL=728.c2f7dfc1.js.map