"use strict";(self["webpackChunklogistics"]=self["webpackChunklogistics"]||[]).push([[593],{46983:(t,e,s)=>{s.r(e),s.d(e,{default:()=>It});s(68309),s(47042);var n=s(73396),i=s(35010),r=s(87139),a=s(80797),l={class:"flex"},o={class:"lg:w-10/12 w-full"},u={class:"pl-6 pr-6 font-base"},c={class:"hidden lg:flex font-base mt-5 justify-between"},p={class:"flex gap-4 items-center"},g=(0,n._)("h1",{class:"text-2xl font-extrabold"},"Shipments",-1),m={class:"relative ml-5"},x=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 text-gray-400 absolute top-2.5 left-2 h-5"},[(0,n._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1),d={class:"lg:hidden mt-5 flex flex-col gap-4"},h=(0,n._)("h1",{class:"text-2xl font-extrabold"},"Shipments",-1),w={class:"relative"},f=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 text-gray-400 absolute top-2.5 left-2 h-5"},[(0,n._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1),_={key:0,class:"lg:hidden bg-white pb-2 font-base mt-5 rounded-md overflow-x-auto"},y={class:"lg:hidden border-b first:py-2 pb-2 last:border-0 last:pb-0"},b={class:"flex justify-between ml-3 mr-5 text-xs mt-5"},v={class:"uppercase text-gray-500"},k=(0,n._)("br",null,null,-1),D={class:"text-gray-900"},P={class:"uppercase text-gray-500"},S=(0,n._)("br",null,null,-1),C={class:"text-gray-900"},z={class:"uppercase text-gray-500"},A=(0,n._)("br",null,null,-1),E={class:"text-gray-900"},N={class:"flex justify-between ml-3 mr-5 text-xs mt-5"},j={class:"uppercase text-gray-500"},T=(0,n._)("br",null,null,-1),L={class:"text-gray-900"},q={class:"uppercase text-gray-500"},Y=(0,n._)("br",null,null,-1),F={class:"text-gray-900"},R={class:"uppercase text-gray-500"},Z=(0,n._)("br",null,null,-1),M={key:0,class:"bg-violet-200 text-violet-700 px-2 text-xs py-0.5 rounded"},U={key:1,class:"bg-pink-200 text-pink-700 px-2 text-xs py-0.5 rounded"},H={key:2,class:"bg-amber-200 text-amber-700 px-2 text-xs py-0.5 rounded"},W={key:3,class:"bg-emerald-200 text-emerald-700 px-2 text-xs py-0.5 rounded"},G={key:0,class:"mt-2 text-sm font-base inline-flex -space-x-px items-center divide-x"},I={key:1,class:"hidden lg:block font-base mt-5 rounded-md overflow-x-auto"},K={class:"w-full text-sm text-left text-gray-500"},B=(0,n._)("thead",{class:"text-xs text-gray-950 uppercase bg-white border-b font-base"},[(0,n._)("tr",null,[(0,n._)("th",{scope:"col",class:"px-6 py-3"}," route "),(0,n._)("th",{scope:"col",class:"px-6 py-3"}," shipment number "),(0,n._)("th",{scope:"col",class:"px-6 py-3"}," truck "),(0,n._)("th",{scope:"col",class:"px-6 py-3"}," weight, kg "),(0,n._)("th",{scope:"col",class:"px-6 py-3"}," status "),(0,n._)("th",{scope:"col",class:"px-6 py-3"}," departure date "),(0,n._)("th",{scope:"col",class:"px-6 py-3"}," arrival date "),(0,n._)("th",{scope:"col",class:"px-6 py-3"}," action ")])],-1),V={class:"bg-white text-xs font-base border-b"},O={scope:"row",class:"px-6 py-4 font-medium text-gray-950 whitespace-nowrap"},$={class:"px-6 py-4"},J={class:"px-6 py-4"},Q={class:"px-6 py-4"},X={class:"px-6 py-4"},tt={key:0,class:"bg-violet-200 text-violet-700 px-2 text-xs py-0.5 rounded"},et={key:1,class:"bg-pink-200 text-pink-700 px-2 text-xs py-0.5 rounded"},st={key:2,class:"bg-amber-200 text-amber-700 px-2 text-xs py-0.5 rounded"},nt={key:3,class:"bg-emerald-200 text-emerald-700 px-2 text-xs py-0.5 rounded"},it={class:"px-6 py-4"},rt={class:"px-6 py-4"},at={class:"px-6 py-4 flex gap-4"},lt=["onClick"],ot=(0,n._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"},null,-1),ut=[ot],ct=["onClick"],pt=(0,n._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1),gt=[pt],mt={key:0,class:"mt-2 text-sm font-base inline-flex -space-x-px items-center divide-x"},xt={key:2,class:"grid font-base mt-8 grid-cols-2 gap-y-4 gap-4"},dt=["onClick"],ht={class:"flex font-base justify-between ml-5 mr-5 mt-3"},wt={class:"text-xl"},ft={class:"text-xs text-gray-500"},_t={class:"text-violet-600 text-2xl"},yt={class:"flex justify-between ml-5 mr-5 mt-5 text-sm"},bt={class:"text-gray-500 flex font-base flex-col gap-5"},vt=(0,n._)("p",null,"Available,kg",-1),kt={class:"text-gray-900"},Dt=(0,n._)("p",null,"Shipment number",-1),Pt={class:"text-gray-900"},St=(0,n._)("p",null,"Truck",-1),Ct={class:"text-gray-900"},zt=(0,n._)("p",null,"Driver",-1),At={class:"text-gray-900"},Et=(0,n._)("img",{class:"w-3/4 mt-10",src:a,alt:""},null,-1),Nt={key:3,class:"mt-2 text-sm font-base inline-flex -space-x-px items-center divide-x"};function jt(t,e,s,a,ot,pt){var jt=(0,n.up)("Aside"),Tt=(0,n.up)("DeleteModal"),Lt=(0,n.up)("Notification"),qt=(0,n.up)("NewShipmentDrawer"),Yt=(0,n.up)("Navbar");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(jt,{class:"hidden lg:block"}),(0,n._)("div",o,[(0,n._)("div",u,[(0,n.Wm)(Tt),(0,n.Wm)(Lt),(0,n._)("div",c,[(0,n._)("div",p,[g,(0,n._)("div",m,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[0]||(e[0]=function(t){return ot.text=t}),class:"pl-8 w-96 bg-white py-2.5 rounded-md focus:outline-none font-base text-sm placeholder:text-xs",type:"text",placeholder:"Search shipments by shipment number"},null,512),[[i.nr,ot.text]]),x]),(0,n._)("div",null,[(0,n._)("button",{onClick:e[1]||(e[1]=function(t){return pt.setShipmentFilter("arrival")}),class:(0,r.C_)(["arrival"===ot.currentShimentFilter?"bg-violet-600 text-white":"text-gray-950 bg-white","text-sm py-2.5 px-4 rounded-md"])},"All("+(0,r.zw)(pt.shipments.length)+")",3)]),(0,n._)("div",null,[(0,n._)("button",{onClick:e[2]||(e[2]=function(t){return pt.setShipmentFilter("available")}),class:(0,r.C_)(["available"===ot.currentShimentFilter?"bg-violet-600 text-white":"text-gray-950 bg-white","text-sm py-2.5 px-4 rounded-md"])},"Available("+(0,r.zw)(pt.shipments.length)+")",3)])]),(0,n._)("div",null,[(0,n.Wm)(qt)])]),(0,n.Wm)(Yt),(0,n._)("div",d,[h,(0,n._)("div",w,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[3]||(e[3]=function(t){return ot.text=t}),class:"pl-8 w-[365px] bg-white py-2.5 rounded-md focus:outline-none font-base text-sm placeholder:text-xs",type:"text",placeholder:"Search shipments by shipment number"},null,512),[[i.nr,ot.text]]),f])]),"arrival"===ot.currentShimentFilter?((0,n.wg)(),(0,n.iD)("div",_,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(pt.shipments,(function(t){return(0,n.wg)(),(0,n.iD)("div",y,[(0,n._)("div",b,[(0,n._)("h3",v,[(0,n.Uk)("route "),k,(0,n._)("span",D,(0,r.zw)(t.route_from.name)+" - "+(0,r.zw)(t.route_to.name),1)]),(0,n._)("h3",P,[(0,n.Uk)("shipment number "),S,(0,n._)("span",C,(0,r.zw)(t.shipment_number),1)]),(0,n._)("h3",z,[(0,n.Uk)("truck "),A,(0,n._)("span",E,(0,r.zw)(t.truck.registration_number),1)])]),(0,n._)("div",N,[(0,n._)("h3",j,[(0,n.Uk)("departure "),T,(0,n._)("span",L,(0,r.zw)(pt.formatDate(t.departure_date)),1)]),(0,n._)("h3",q,[(0,n.Uk)("arrival "),Y,(0,n._)("span",F,(0,r.zw)(pt.formatDate(t.arrival_date)),1)]),(0,n._)("h3",R,[(0,n.Uk)("status "),Z,"READY"===t.status?((0,n.wg)(),(0,n.iD)("span",M,(0,r.zw)(t.status),1)):(0,n.kq)("",!0),"DELAYED"===t.status?((0,n.wg)(),(0,n.iD)("span",U,(0,r.zw)(t.status),1)):(0,n.kq)("",!0),"ON WAY"===t.status?((0,n.wg)(),(0,n.iD)("span",H,(0,r.zw)(t.status),1)):(0,n.kq)("",!0),"ARRIVED"===t.status?((0,n.wg)(),(0,n.iD)("span",W,(0,r.zw)(t.status),1)):(0,n.kq)("",!0)])])])})),256)),pt.shipments.length?((0,n.wg)(),(0,n.iD)("ul",G,[(0,n._)("li",{onClick:e[4]||(e[4]=function(){return pt.goToLastPage&&pt.goToLastPage.apply(pt,arguments)}),class:(0,r.C_)([""===ot.previousPage||null==ot.previousPage?"text-gray-300":"text-gray-600","flex cursor-pointer items-center justify-center px-4 h-5 ml-0 leading-tight bg-white rounded-l-md"])}," Previous ",2),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(ot.totalPages,(function(t){return(0,n.wg)(),(0,n.iD)("li",{class:(0,r.C_)([ot.currentPage==t?"text-violet-600":"text-gray-600","flex items-center justify-center px-4 h-5 leading-tight bg-white"])},(0,r.zw)(t),3)})),256)),(0,n._)("li",{onClick:e[5]||(e[5]=function(){return pt.goToNextPage&&pt.goToNextPage.apply(pt,arguments)}),class:(0,r.C_)([""===ot.nextPage||null==ot.nextPage?"text-gray-300":"text-gray-600","flex cursor-pointer items-center justify-center px-4 h-5 ml-0 leading-tight bg-white rounded-r-md"])}," Next ",2)])):(0,n.kq)("",!0)])):(0,n.kq)("",!0),"arrival"===ot.currentShimentFilter?((0,n.wg)(),(0,n.iD)("div",I,[(0,n._)("table",K,[B,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(pt.shipments,(function(t){return(0,n.wg)(),(0,n.iD)("tr",V,[(0,n._)("th",O,(0,r.zw)(t.route_from.name)+" - "+(0,r.zw)(t.route_to.name),1),(0,n._)("td",$,(0,r.zw)(t.shipment_number),1),(0,n._)("td",J,(0,r.zw)(t.truck.manufacturer)+" "+(0,r.zw)(t.truck.model)+" - "+(0,r.zw)(t.truck.registration_number),1),(0,n._)("td",Q,(0,r.zw)(t.truck.carry_weight),1),(0,n._)("td",X,["READY"===t.status?((0,n.wg)(),(0,n.iD)("span",tt,(0,r.zw)(t.status),1)):(0,n.kq)("",!0),"DELAYED"===t.status?((0,n.wg)(),(0,n.iD)("span",et,(0,r.zw)(t.status),1)):(0,n.kq)("",!0),"ON WAY"===t.status?((0,n.wg)(),(0,n.iD)("span",st,(0,r.zw)(t.status),1)):(0,n.kq)("",!0),"ARRIVED"===t.status?((0,n.wg)(),(0,n.iD)("span",nt,(0,r.zw)(t.status),1)):(0,n.kq)("",!0)]),(0,n._)("td",it,(0,r.zw)(pt.formatDate(t.departure_date)),1),(0,n._)("td",rt,(0,r.zw)(pt.formatDate(t.arrival_date)),1),(0,n._)("td",at,[((0,n.wg)(),(0,n.iD)("svg",{onClick:function(e){return pt.goToShipmentPage(t.id)},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 text-gray-500 cursor-pointer hover:text-violet-500 transition-all duration-300 h-4"},ut,8,lt)),((0,n.wg)(),(0,n.iD)("svg",{onClick:function(e){return pt.removeShipment(t)},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 text-gray-500 cursor-pointer hover:text-red-500 transition-all duration-300 h-4"},gt,8,ct))])])})),256))])]),pt.shipments.length?((0,n.wg)(),(0,n.iD)("ul",mt,[(0,n._)("li",{onClick:e[6]||(e[6]=function(){return pt.goToLastPage&&pt.goToLastPage.apply(pt,arguments)}),class:(0,r.C_)([""===ot.previousPage||null==ot.previousPage?"text-gray-300":"text-gray-600","flex cursor-pointer items-center justify-center px-4 h-10 ml-0 leading-tight bg-white rounded-l-md"])}," Previous ",2),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(ot.totalPages,(function(t){return(0,n.wg)(),(0,n.iD)("li",{class:(0,r.C_)([ot.currentPage==t?"text-violet-600":"text-gray-600","flex items-center justify-center px-4 h-10 leading-tight bg-white"])},(0,r.zw)(t),3)})),256)),(0,n._)("li",{onClick:e[7]||(e[7]=function(){return pt.goToNextPage&&pt.goToNextPage.apply(pt,arguments)}),class:(0,r.C_)([""===ot.nextPage||null==ot.nextPage?"text-gray-300":"text-gray-600","flex cursor-pointer items-center justify-center px-4 h-10 ml-0 leading-tight bg-white rounded-r-md"])}," Next ",2)])):(0,n.kq)("",!0)])):(0,n.kq)("",!0),"available"===ot.currentShimentFilter?((0,n.wg)(),(0,n.iD)("div",xt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(pt.shipments.slice(-4),(function(t){return(0,n.wg)(),(0,n.iD)("div",{onClick:function(e){return pt.goToShipmentPage(t.id)},class:"bg-white rounded-md cursor-pointer hover:shadow-md transition-shadow duration-500 h-80"},[(0,n._)("div",ht,[(0,n._)("h3",wt,[(0,n.Uk)((0,r.zw)(t.route_from.name)+" - "+(0,r.zw)(t.route_to.name)+" ",1),(0,n._)("span",ft,(0,r.zw)(pt.formatDate(t.departure_date)),1)]),(0,n._)("h2",_t,(0,r.zw)(pt.percentageCalculator(0,t.truck.carry_weight))+"%",1)]),(0,n._)("div",yt,[(0,n._)("ul",bt,[(0,n._)("li",null,[vt,(0,n._)("p",kt,"0/"+(0,r.zw)(t.truck.carry_weight),1)]),(0,n._)("li",null,[Dt,(0,n._)("p",Pt,(0,r.zw)(t.shipment_number),1)]),(0,n._)("li",null,[St,(0,n._)("p",Ct,(0,r.zw)(t.truck.manufacturer)+" "+(0,r.zw)(t.truck.model)+" - "+(0,r.zw)(t.truck.registration_number),1)]),(0,n._)("li",null,[zt,(0,n._)("p",At,(0,r.zw)(t.driver.first_name)+" "+(0,r.zw)(t.driver.last_name),1)])]),Et])],8,dt)})),256))])):(0,n.kq)("",!0),"available"===ot.currentShimentFilter?((0,n.wg)(),(0,n.iD)("ul",Nt,[(0,n._)("li",{onClick:e[8]||(e[8]=function(){return pt.goToLastPage&&pt.goToLastPage.apply(pt,arguments)}),class:(0,r.C_)([""===ot.previousPage||null==ot.previousPage?"text-gray-300":"text-gray-600","flex cursor-pointer items-center justify-center px-4 h-10 ml-0 leading-tight bg-white rounded-l-md"])}," Previous ",2),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(ot.totalPages,(function(t){return(0,n.wg)(),(0,n.iD)("li",{class:(0,r.C_)([ot.currentPage==t?"text-violet-600":"text-gray-600","flex items-center justify-center px-4 h-10 leading-tight bg-white"])},(0,r.zw)(t),3)})),256)),(0,n._)("li",{onClick:e[9]||(e[9]=function(){return pt.goToNextPage&&pt.goToNextPage.apply(pt,arguments)}),class:(0,r.C_)([""===ot.nextPage||null==ot.nextPage?"text-gray-300":"text-gray-600","flex cursor-pointer items-center justify-center px-4 h-10 ml-0 leading-tight bg-white rounded-r-md"])}," Next ",2)])):(0,n.kq)("",!0)])])])}var Tt=s(95082),Lt=(s(57327),s(41539),s(26699),s(32023),s(56977),s(57658),s(64212)),qt=s(36797),Yt=s.n(qt),Ft=s(96675),Rt=s(49434),Zt=s(20065),Mt=s(13944),Ut=s(12821);const Ht={name:"Shipments",components:{Aside:Lt.Z,DeleteModal:Ft.Z,Notification:Rt.Z,NewShipmentDrawer:Mt.Z,Navbar:Ut.Z},data:function(){return{currentShimentFilter:"arrival",text:"",item:"Shipment",totalPages:0,previousPage:"",nextPage:"",currentPage:""}},computed:(0,Tt.Z)((0,Tt.Z)({},(0,Zt.Se)({storedShipments:"getStoredShipments"})),{},{shipments:function(){var t=this;return this.storedShipments.filter((function(e){return e.shipment_number.toLowerCase().includes(t.text.toLowerCase())}))}}),methods:(0,Tt.Z)((0,Tt.Z)((0,Tt.Z)({},(0,Zt.nv)({getAllShipments:"getAllShipments",deleteShipment:"deleteShipment"})),(0,Zt.OI)({INCREASE_PAGE:"INCREASE_PAGE",DECREASE_PAGE:"DECREASE_PAGE"})),{},{goToNextPage:function(){null!=this.nextPage&&(this.INCREASE_PAGE(),this.init())},goToLastPage:function(){null!=this.previousPage&&(this.DECREASE_PAGE(),this.init())},init:function(){var t=this;this.getAllShipments({cb:function(e){t.previousPage=e.previous,t.nextPage=e.next,t.totalPages=e.total_pages,t.currentPage=e.current_page_number}})},formatDate:function(t){return Yt()(t).format("DD-MM-YY")},setShipmentFilter:function(t){this.currentShimentFilter=t},percentageCalculator:function(t,e){return(t/e*100).toFixed(2)},goToShipmentPage:function(t){this.$router.push({name:"shipment",params:{id:t}})},removeShipment:function(t){this.emitter.emit("showDeleteModal",{type:"Shipment",value:t.shipment_number,id:t.id})},deleteConfirmedShipment:function(t){var e=this;this.deleteShipment({uuid:t,cb:function(){e.init()}})}}),mounted:function(){var t=this;this.init(),this.emitter.on("reloadShipments",(function(e){t.init(),"edit"===e?t.emitter.emit("showNotification",{action:"edit",item:t.item}):"add"===e&&t.emitter.emit("showNotification",{action:"add",item:t.item})})),this.emitter.on("deleteShipment",(function(e){t.deleteConfirmedShipment(e),t.emitter.emit("showNotification",{action:"delete",item:t.item})}))}};var Wt=s(40089);const Gt=(0,Wt.Z)(Ht,[["render",jt]]),It=Gt},80797:(t,e,s)=>{t.exports=s.p+"img/van.4cc45d99.svg"}}]);
//# sourceMappingURL=593.5523703c.js.map